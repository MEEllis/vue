webpackJsonp([14],{1512:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(30),n=a(1644),l=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a(566),u=a(331),o=[],d=function(e){return e.Receive.receiveComplaintResult||o},s=(0,i.createSelector)([d],function(e){if(!e.Data)return!1;var t={PageNumber:e.Current,PageSize:e.PageSize,TotalPages:e.Total,dataSource:[]};return e.Data.map(function(e){var a="";switch(e.Status){case 1:a="未处理";break;case 2:a="处理中";break;case 3:a="已处理";break;default:ProductType=""}var r={OrderNo:e.OrderNo,Question:e.Question,Status:a,CreateDate:e.CreateDate,AnswerDate:e.AnswerDate,ComplaintId:e.ComplaintId};t.dataSource.push(r)}),t}),c=function(e){return{receiveComplaintResult:s(e),isfetching:!!e.Receive.isfetching}};t.default=(0,r.connect)(c,{receiveComplaint:u.receiveComplaint})(l.default),e.exports=t.default},1528:function(e,t,a){"use strict";function dateFormat(e){if(e)return n.default.isMoment(e)?e.format("YYYY-MM-DD HH:mm:ss"):(0,n.default)(e).format("YYYY-MM-DD HH:mm:ss")}Object.defineProperty(t,"__esModule",{value:!0}),t.dateFormat=void 0;var r=a(164),n=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={},t.dateFormat=dateFormat},1551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(164),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=(0,n.default)().subtract(10,"days").format("YYYY-MM-DD 00:00:00"),i=(0,n.default)().format("YYYY-MM-DD 23:59:59");t.default={StockAccountList:[{name:"库存编号",index:"",type:0,id:"Stockid"},{name:"直储帐号",index:1,type:0,id:"RechargeUserName"},{name:"库存名称",index:2,type:0,id:"StockName"},{name:"库存性质",index:"3",type:1,id:"Nature",defaultValue:"",items:[{name:"全部",value:""},{name:"普通库存",value:"1"},{name:"组合库存",value:"2"},{name:"区域库存",value:"3"}]},{name:"账号状态",index:"4",type:1,id:"IsUsed",defaultValue:"",items:[{name:"全部",value:""},{name:"未用完",value:"false"},{name:"已用完",value:"true"}]},{name:"库存面值",index:"5",type:0,id:"FaceValue"},{name:"添加时间",index:"6",type:2,id:"AddTime"}],StockCardList:[{name:"卡号",index:"",type:0,id:"CardNumber"},{name:"密码",index:1,type:0,id:"CardPassword"},{name:"供应商",index:2,type:0,id:"Supplier"},{name:"库存名称",index:"3",type:0,id:"StockName"},{name:"导卡时间",index:"4",type:2,id:"Time"},{name:"状态",index:"5",type:1,id:"IsUsed",defaultValue:"",items:[{name:"全部",value:""},{name:"未售",value:"false"},{name:"已售",value:"true"}]}],OrderList:[{name:"订单编号",index:"",type:0,id:"OrderId"},{name:"进货商户",index:1,type:0,id:"DealerSiteId"},{name:"商品编号",index:"3",type:0,id:"ProductId"},{name:"商品名称",index:"4",type:0,id:"ProductName"},{name:"交易时间",index:"6",type:2,id:"TradeTime",defaultValue:[(0,n.default)(l),(0,n.default)(i)]},{name:"商品类型",index:"5",type:1,id:"ProductType",defaultValue:"0",items:[{name:"全部",value:"0"},{name:"卡密",value:"1"},{name:"卡密直储",value:"2"},{name:"在线直储",value:"4"}]},{name:"调用账号",index:"9",type:0,id:"ChargeAccount"},{name:"充值账号 ",index:"10",type:0,id:"TopupAccount"}],OrderSaleList:[{name:"订单编号",index:"",type:0,id:"OrderId"},{name:"进货商户",index:1,type:0,id:"DealerSiteId"},{name:"商品编号",index:"3",type:0,id:"ProductId"},{name:"商品名称",index:"4",type:0,id:"ProductName"},{name:"交易时间",index:"6",type:2,id:"TradeTime",defaultValue:[(0,n.default)(l),(0,n.default)(i)]},{name:"订单状态",index:"5",type:1,id:"Status",defaultValue:"0",items:[{name:"全部",value:"0"},{name:"交易成功",value:"5"},{name:"交易失败",value:"6"}]},{name:"商品类型",index:"5",type:1,id:"ProductType",defaultValue:"0",items:[{name:"全部",value:"0"},{name:"卡密",value:"1"},{name:"卡密直储",value:"2"},{name:"在线直储",value:"4"}]},{name:"调用账号",index:"9",type:0,id:"ChargeAccount"},{name:"充值账号 ",index:"10",type:0,id:"TopupAccount"}],SupplyReviewList:[{name:"商品名称",index:"",type:0,id:"ProductName"},{name:"客户名称",index:"1",type:0,id:"DealerName"},{name:"客户编号",index:"2",type:0,id:"DealerId"},{name:"商品编号",index:"3",type:0,id:"ProductId"}],HasPriceSecretList:[{name:"商品名称",index:"",type:0,id:"ProductName"},{name:"商品id",index:1,type:0,id:"ProductId"}]},e.exports=t.default},1558:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,n,l=(a(138),a(137)),i=_interopRequireDefault(l),u=(a(114),a(113)),o=_interopRequireDefault(u),d=(a(565),a(564)),s=_interopRequireDefault(d),c=(a(169),a(168)),f=_interopRequireDefault(c),p=(a(167),a(166)),m=_interopRequireDefault(p),v=(a(112),a(165)),y=_interopRequireDefault(v),h=(a(563),a(320)),O=_interopRequireDefault(h),C=(a(171),a(170)),_=_interopRequireDefault(C),E=(a(567),a(325)),g=_interopRequireDefault(E),D=(a(78),a(77)),S=_interopRequireDefault(D),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},P=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),R=a(0),w=_interopRequireDefault(R),x=a(4),T=_interopRequireDefault(x),N=a(568),I=_interopRequireDefault(N),k=a(1566);_interopRequireDefault(k);a(213);var q=a(321),A=a(1551),F=_interopRequireDefault(A),j=a(1528),M=a(59);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(M);a(1564);var V=a(1560),U=_interopRequireDefault(V),L=S.default.create,Y=S.default.Item,z=F.default.OrderList,H=g.default.Group,B=(n=r=function(e){function ShowDetailComponent(e){_classCallCheck(this,ShowDetailComponent);var t=_possibleConstructorReturn(this,(ShowDetailComponent.__proto__||Object.getPrototypeOf(ShowDetailComponent)).call(this,e));return t.getProductType=function(e){var t=(0,I.default)((0,I.default)(z,{id:"ProductType"}).items,{value:e});if(t)return t.name},t.getStatus=function(e){switch(e){case"3":return"未处理";case"4":return"充值中";case"5":return"成功";case"6":return"交易失败";case"7":return"可疑";default:return"未知"}},t.hideDetailModal=function(){t.props.close()},t.showPrice=function(){var e=t.state.showPriceText;e="展开"===e?"收起":"展开",t.setState({showPriceText:e})},t.handleChange=function(e){"5"===e?t.setState({postOrderSuccessInfo:!0,postOrderFailInfo:!1}):"6"===e&&t.setState({postOrderSuccessInfo:!1,postOrderFailInfo:!0})},t.handleSubmit=function(){var e=t.state,a=e.orderDetail,r=e.personInfo,n=e.showInfo,l=e.postOrderSuccessInfo;t.props.form.validateFields(function(e,i){if(!e){if(!l&&n&&""===r)return _.default.error("请选择充值描述");var u=l?i.Description:n?r:i.DescriptionFail;t.props.handleOrder(b({},i,{Charger:a.Charger,ChargeUseAccount:a.ChargeUseAccount,OrderId:a.OrderId,Description:u}))}})},t.radOnChange=function(e){"自行输入原因"===e.target.value?t.setState({showInfo:!0}):t.setState({showInfo:!1})},t.personInfoChange=function(e){t.setState({personInfo:e.target.value})},t.exportExcel=function(){var e=[{OilCard_Oid:"1",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:1,Fee_EndDate:"2016-12-16",Operate_Name:"易运客服",Operate_Org:"            ",Org_Name:"赛托斯总部"},{OilCard_Oid:"11",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:11,Fee_EndDate:"2016-11-16",Operate_Name:"易运客服",Operate_Org:"            ",Org_Name:"赛托斯总部"},{OilCard_Oid:"12345",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:45,Fee_EndDate:"2016-12-16",Operate_Name:"易运客服",Operate_Org:"            ",Org_Name:"赛托斯总部"},{OilCard_Oid:"333",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:3,Fee_EndDate:"2016-12-16",Operate_Name:"易运客服",Operate_Org:"            ",Org_Name:"赛托斯总部"},{OilCard_Oid:"3333333333333333333333333333333333333333333333",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:7777,Fee_EndDate:"2016-11-10",Operate_Name:"势航成都",Operate_Org:"101002      ",Org_Name:"赛托斯总部"},{OilCard_Oid:"44",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:4,Fee_EndDate:"2016-12-16",Operate_Name:"势航成都",Operate_Org:"            ",Org_Name:"赛托斯总部"},{OilCard_Oid:"55",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:5,Fee_EndDate:"2016-12-16",Operate_Name:"势航成都",Operate_Org:"            ",Org_Name:"赛托斯总部"},{OilCard_Oid:"77",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:7,Fee_EndDate:"2016-12-16",Operate_Name:"易运客服",Operate_Org:"            ",Org_Name:"赛托斯总部"},{OilCard_Oid:"88",Use_Org:"101         ",OilCard_Type:"中国石油",OilCard_Type_Oid:"AS",Fee:8,Fee_EndDate:"2016-12-16",Operate_Name:"易运客服",Operate_Org:"            ",Org_Name:"赛托斯总部"}],t=["加油卡卡号","油卡公司","使用机构","油卡费用","有效期"],a=["OilCard_Oid","OilCard_Type","Org_Name","Fee","Fee_EndDate"];(0,U.default)(e,"油卡设置表",t,"油卡设置表",a)},t.state={orderDetail:{},showPriceText:"展开",copyData:"",postOrderSuccessInfo:!0,postOrderFailInfo:!1,radValue:"",showInfo:!1,personInfo:""},t}return _inherits(ShowDetailComponent,e),P(ShowDetailComponent,[{key:"componentDidMount",value:function(){var e=this.props.orderId;this.props.getOrderDetail({orderId:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.getOrderDetailResult,a=e.handleOrderResult;if(t!==this.props.getOrderDetailResult&&200===t.Status){var r="";t.Data.StockContent&&t.Data.StockContent.Data.forEach(function(e,t){r+=t+1+" "+e.CardNumber+" "+e.Password+" "+(0,j.dateFormat)(e.Expire)+"\n"}),this.setState({orderDetail:t.Data,copyData:r})}a!==this.props.handleOrderResult&&200===a.Status&&(this.props.close(),this.props.getData())}},{key:"render",value:function(){var e=this,t=this.props,a=t.isfetching,r=t.manageOrder,n=this.state,l=n.orderDetail,u=n.showPriceText,d=n.postOrderSuccessInfo,c=n.postOrderFailInfo,p=n.showInfo,v={labelCol:{span:3},wrapperCol:{span:12}},h=this.props.form.getFieldDecorator,C=[{title:"序号",width:50,render:function(e,t,a){return a+1}},{title:"卡号",dataIndex:"CardNumber"},{title:"密码",dataIndex:"Password"},{title:"有效期",dataIndex:"Expire",render:function(e){return(0,j.dateFormat)(e)}}];return w.default.createElement("div",{className:"ShowDetailComponent"},w.default.createElement(i.default,{title:"订单详情",width:904,visible:!0,onOk:this.hideDetailModal,onCancel:this.hideDetailModal},w.default.createElement(o.default,{spinning:a},r&&w.default.createElement("div",null,w.default.createElement(S.default,{className:"stepTwoBody"},w.default.createElement(Y,b({label:"将订单处理为"},v),h("TopupStatus",{initialValue:"5",rules:[{required:!0,message:"请输入商品类型"}]})(w.default.createElement(O.default,{onChange:this.handleChange},w.default.createElement(O.default.Option,{value:"5"},"交易成功"),w.default.createElement(O.default.Option,{value:"6"},"交易失败")))),d&&w.default.createElement("div",null,w.default.createElement(Y,b({label:"充值描述"},v),h("Description",{initialValue:"",rules:[{required:!0,message:"请输入充值描述"}]})(w.default.createElement(y.default,{type:"textarea",rows:4})))),c&&w.default.createElement("div",null,w.default.createElement(Y,b({label:"充值描述"},v),h("DescriptionFail",{initialValue:"厂商系统出错或维护，无法充值、请稍后重新购买",rules:[{required:!0,message:"请输入商品类型"}]})(w.default.createElement(H,{onChange:this.radOnChange},w.default.createElement(g.default,{className:"radStyle",value:"厂商系统出错或维护，无法充值、请稍后重新购买"},"厂商系统出错或维护，无法充值、请稍后重新购买"),w.default.createElement(g.default,{className:"radStyle",value:"用户名不符，无法充值，请重新下单购买"},"用户名不符，无法充值，请重新下单购买"),w.default.createElement(g.default,{className:"radStyle",value:"充值区域不符，无法充值，请重新下单购买"},"充值区域不符，无法充值，请重新下单购买"),w.default.createElement(g.default,{className:"radStyle",value:"商品库存不足、请待我们补充库存再行购买"},"商品库存不足、请待我们补充库存再行购买"),w.default.createElement(g.default,{className:"radStyle",value:"由于厂商或某些其他不可控因素不能充值、请重新提交本次充值"},"由于厂商或某些其他不可控因素不能充值、请重新提交本次充值"),w.default.createElement(g.default,{className:"radStyle",value:"自行输入原因"},"自行输入原因")))),p&&w.default.createElement(f.default,null,w.default.createElement(m.default,{span:3}),w.default.createElement(m.default,{span:10}," ",w.default.createElement(y.default,{type:"textarea",onChange:this.personInfoChange,rows:4}))),w.default.createElement(Y,b({label:"卡密返回"},v),h("ReturnCards",{initialValue:"true"})(w.default.createElement(H,null,w.default.createElement(g.default,{className:"radStyle",value:"true"},"将卡密返回库存"))))),w.default.createElement("div",null,w.default.createElement(q.Button,{style:{margin:"0 15px 10px 131px"},type:"primary",onClick:function(){return e.handleSubmit()}},"确定处理"),w.default.createElement(q.Button,{style:{marginRight:8},type:"primary",onClick:function(){return e.hideDetailModal()}},"暂不处理")))),w.default.createElement("div",{className:"modalDetail"},w.default.createElement("div",{className:"detailLeft"},w.default.createElement("div",{className:"orderBasicInfo"},w.default.createElement("div",{className:"detailTitle"},"订单处理基本信息",w.default.createElement("div",{className:"titleLeft"})),w.default.createElement("p",null,w.default.createElement("span",null,"订单编号："),w.default.createElement("span",null,l.OrderId)),w.default.createElement("p",null,w.default.createElement("span",null,"订单金额："),w.default.createElement("span",null,l.SupplierSaleTotal),"元 =",w.default.createElement("span",null,l.TopupCount),"(个)*",w.default.createElement("span",null,l.SupplierProductPrice)," 元"),w.default.createElement("p",null,w.default.createElement("span",null,"进货商："),w.default.createElement("span",null,(l.DealerSiteName?l.DealerSiteName:"")+"("+(l.DealerSiteId?l.DealerSiteId:"")+")")),w.default.createElement("p",null,w.default.createElement("span",null,"订单状态："),w.default.createElement("span",{style:{color:"#bf4346"}},this.getStatus(l.TopupStatus))),w.default.createElement("p",null,w.default.createElement("span",null,"客户编号："),w.default.createElement("span",null,l.DealerSiteId)),w.default.createElement("p",null,w.default.createElement("span",null,"下单IP："),w.default.createElement("span",null,l.TopupContent?l.TopupContent.OutSaleIp:"")),w.default.createElement("p",null,w.default.createElement("span",null,"下单时间："),w.default.createElement("span",null,(0,j.dateFormat)(l.ReceiveTime))),l.CompletionTime&&w.default.createElement("p",null,w.default.createElement("span",null,"处理时间："),w.default.createElement("span",null,(0,j.dateFormat)(l.CompletionTime)))),"1"!==l.ProductType&&"2"!==l.ProductType?w.default.createElement("div",{className:"chargeDescription"},w.default.createElement("div",{className:"detailTitle"},"消费内容",w.default.createElement("div",{className:"titleLeft"})),w.default.createElement("p",null,w.default.createElement("span",null,"充值账户："),w.default.createElement("span",null,l.TopupAccount)),w.default.createElement("p",null,w.default.createElement("span",null,"购买数量："),w.default.createElement("span",null,l.TopupCount)),w.default.createElement("p",null,w.default.createElement("span",null,"游戏名称"),w.default.createElement("span",null,l.TopupContent?l.TopupContent.ChargeGame:"")),w.default.createElement("p",null,w.default.createElement("span",null,"充值描述"),w.default.createElement("span",null,l.ChargeDescription)),w.default.createElement("p",null,w.default.createElement("span",null,"服务器"),w.default.createElement("span",null,l.TopupContent?l.TopupContent.OutSaleIp:""))):("1"===l.ProductType||"2"===l.ProductType)&&w.default.createElement("div",{className:"cardType"},w.default.createElement("div",{className:"detailTitle"},("1"===l.ProductType?"出库卡密":"直储卡密")+":",w.default.createElement("div",{className:"titleLeft"})),w.default.createElement("div",null,w.default.createElement(s.default,{rowKey:"Id",columns:C,dataSource:l.StockContent?l.StockContent.Data:[],size:"small"})))),w.default.createElement("div",{className:"detailRight"},w.default.createElement("div",{className:"orderManage"},w.default.createElement("div",{className:"detailTitle"},"订单处理过程",w.default.createElement("div",{className:"titleLeft"})),w.default.createElement("div",null,w.default.createElement("p",null,w.default.createElement("span",null,"操作员："),w.default.createElement("span",null,w.default.createElement("i",null,l.Charger))),w.default.createElement("p",null,w.default.createElement("span",null,"代充帐号："),w.default.createElement("span",null,w.default.createElement("i",null,l.ChargeUseAccount))),w.default.createElement("p",null,w.default.createElement("span",null,"充值描述："),w.default.createElement("span",{style:{color:"#bf4346"}},w.default.createElement("i",null,l.ChargeDescription))))),w.default.createElement("div",{className:"productInfo"},w.default.createElement("div",{className:"detailTitle"},"商品信息",w.default.createElement("div",{className:"titleLeft"})),w.default.createElement("p",null,w.default.createElement("span",null,"商品："),l.SupplierProductName,"（",l.SupplierProductId,"）"),w.default.createElement("p",null,w.default.createElement("span",null,"面值："),w.default.createElement("span",{style:{color:"#bf4346"}},w.default.createElement("i",null,l.SupplierProductParvalue,"元"))),"收起"===u&&w.default.createElement("div",null,w.default.createElement("p",null,w.default.createElement("span",null,"售价："),w.default.createElement("span",{style:{color:"#bf4346"}},w.default.createElement("i",null,l.SupplierProductPrice,"元"))),w.default.createElement("p",null,w.default.createElement("span",null,"商品类型："),w.default.createElement("span",null,this.getProductType(l.ProductType)))),w.default.createElement("a",{className:"showPrice",onClick:this.showPrice},u)))))))}}]),ShowDetailComponent}(w.default.Component),r.propTypes={isfetching:T.default.bool,form:T.default.shape({validateFields:T.default.func.isRequired,getFieldDecorator:T.default.func.isRequired,resetFields:T.default.func.isRequired,setFieldsValue:T.default.func.isRequired}).isRequired,orderId:T.default.string.isRequired,getData:T.default.func.isRequired,close:T.default.func.isRequired,manageOrder:T.default.bool,getOrderDetail:T.default.func.isRequired,handleOrder:T.default.func.isRequired,getOrderDetailResult:T.default.shape({Status:T.default.number.isRequired}),handleOrderResult:T.default.shape({Status:T.default.number.isRequired})},r.defaultProps={isfetching:!0,getOrderDetailResult:void 0,handleOrderResult:void 0},n);t.default=L()(B),e.exports=t.default},1559:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(30),n=a(1558),l=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a(327),u=function(e){return{getOrderDetailResult:e.order.getOrderDetailResult,handleOrderResult:e.order.handleOrderResult,isfetching:e.order.isfetching}};t.default=(0,r.connect)(u,{getOrderDetail:i.getOrderDetail,handleOrder:i.handleOrder})(l.default),e.exports=t.default},1560:function(e,t,a){"use strict";function msieversion(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),a=e.toLowerCase().indexOf("edge")>-1;return!!(t>0||navigator.userAgent.match(/Trident.*rv\:11\./))||!!a}function CsvData(e,t,a,n){if(0==e.length)return void alert("没有可以导出的数据");var l="object"!==(void 0===e?"undefined":r(e))?JSON.parse(e):e,i="";i+=a+"\r\n",i+=t+"\r\n";for(var u=0;u<l.length;u+=1){var o="";for(var d in n){var s=n[d];o+=(null==l[u][s]?"":l[u][s])+","}o.slice(0,o.length-1),i+=o+"\r\n"}return i+="\ufeff"+i}function JSONToCSV2(e,t,a,n,l){if(msieversion())if(navigator.userAgent.indexOf("MSIE 6.0")>0||navigator.userAgent.indexOf("MSIE 7.0")>0||navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0){var i="object"!==(void 0===e?"undefined":r(e))?JSON.parse(e):e;try{for(var u=new ActiveXObject("Excel.Application"),o=u.Workbooks.Add(),d=0;d<a.length;d++)o.ActiveSheet.Cells(1,d+1).Value=a[d];for(var s=0;s<i.length;s++){var c=1;for(var f in l){var p=l[f],m=null==i[s][p]?"":i[s][p];o.ActiveSheet.Cells(s+2,c).Value=m,c++}}u.UserControl=!0}catch(e){return void alert("请设置IE浏览器的安全级别,Internet-安全-自定义级别-启用 未知的ActiveX！")}finally{Book.Close(),Excel.Application.Quit()}}else{var v=CsvData(e,a,n,l),y=t,h=self.Blob;saveAs(new h([v],{type:"text/plain;charset=utf-8"}),y+".csv")}else{var O=t,C=CsvData(e,a,n,l),_="data:text/csv;charset=utf-8,"+encodeURI(C),E=document.createElement("a");E.href=_,E.style="visibility:hidden",E.download=O+".csv",document.body.appendChild(E),E.click(),document.body.removeChild(E)}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=JSONToCSV2,e.exports=t.default},1561:function(e,t,a){"use strict";function format(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function copy(e,t){var a,l,i,u,o,d=!1;t||(t={}),t.debug;try{l=r(),i=document.createRange(),u=document.getSelection(),o=document.createElement("span"),o.textContent=e,o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",document.body.appendChild(o),i.selectNode(o),u.addRange(i);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(r){try{window.clipboardData.setData("text",e),d=!0}catch(r){a=format("message"in t?t.message:n),window.prompt(a,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(i):u.removeAllRanges()),o&&document.body.removeChild(o),l()}return d}var r=a(1567),n="Copy to clipboard: #{key}, Enter";e.exports=copy},1564:function(e,t){},1565:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),l=a(0),i=_interopRequireDefault(l),u=a(1561),o=_interopRequireDefault(u);t.CopyToClipboard=function(e){function CopyToClipboard(){var e,t,a,r;_classCallCheck(this,CopyToClipboard);for(var n=arguments.length,l=Array(n),u=0;u<n;u++)l[u]=arguments[u];return t=a=_possibleConstructorReturn(this,(e=CopyToClipboard.__proto__||Object.getPrototypeOf(CopyToClipboard)).call.apply(e,[this].concat(l))),a.onClick=function(e){var t=a.props,r=t.text,n=t.onCopy,l=t.children,u=t.options,d=i.default.Children.only(l),s=(0,o.default)(r,u);n&&n(r,s),d&&d.props&&"function"==typeof d.props.onClick&&d.props.onClick(e)},r=t,_possibleConstructorReturn(a,r)}return _inherits(CopyToClipboard,e),n(CopyToClipboard,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),a=_objectWithoutProperties(e,["text","onCopy","options","children"]),n=i.default.Children.only(t);return i.default.cloneElement(n,r({},a,{onClick:this.onClick}))}}]),CopyToClipboard}(i.default.PureComponent)},1566:function(e,t,a){"use strict";var r=a(1565),n=r.CopyToClipboard;e.exports=n},1567:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],r=0;r<e.rangeCount;r++)a.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},1644:function(e,t,a){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,n,l=(a(114),a(113)),i=_interopRequireDefault(l),u=(a(565),a(564)),o=_interopRequireDefault(u),d=(a(169),a(168)),s=_interopRequireDefault(d),c=(a(67),a(60)),f=_interopRequireDefault(c),p=(a(167),a(166)),m=_interopRequireDefault(p),v=(a(112),a(165)),y=_interopRequireDefault(v),h=(a(78),a(77)),O=_interopRequireDefault(h),C=(a(570),a(569)),_=_interopRequireDefault(C),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),D=a(0),S=_interopRequireDefault(D),b=a(4),P=_interopRequireDefault(b),R=a(321),w=a(322),x=_interopRequireDefault(w),T=a(59),N=_interopRequireDefault(T),I=a(1559),k=_interopRequireDefault(I);a(1698);var q=_.default.TabPane,A=O.default.create,F=O.default.Item,j=(n=r=function(e){function ServiceReceive(e){_classCallCheck(this,ServiceReceive);var t=_possibleConstructorReturn(this,(ServiceReceive.__proto__||Object.getPrototypeOf(ServiceReceive)).call(this,e));return t.handleDetailClick=function(e){t.setState({isShowDetail:!0,currentOrder:e})},t.handleHideDetailClick=function(){t.setState({isShowDetail:!1})},t.state={isShowDetail:!1,PostData:{PageNumber:1,PageSize:x.default.PAGESIZE,Status:"1",OrderNo:""}},t}return _inherits(ServiceReceive,e),g(ServiceReceive,[{key:"componentWillMount",value:function(){this.props.receiveComplaint(this.state.PostData)}},{key:"handleSubmit",value:function(){var e=this,t=this.props;this.props.form.validateFields(function(a,r){var n=e.state.PostData;n.PageNumber=1,Object.assign(n,r),e.setState({PostData:n},function(){t.receiveComplaint(n)})})}},{key:"render",value:function(){var e=this,t=this.props;if(!t.receiveComplaintResult.dataSource)return!1;var a=t.receiveComplaintResult.dataSource||[],r=t.form.getFieldDecorator,n={labelCol:{span:5},wrapperCol:{span:19}},l=t.receiveComplaintResult.TotalPages,u={total:l,showSizeChanger:!0,current:this.state.PostData.PageNumber,PageSize:this.state.PostData.PageSize,onShowSizeChange:function(a,r){var n=e.state.PostData;n.PageNumber=a,n.PageSize=r,e.setState({PostData:n}),t.receiveComplaint(n)},onChange:function(a){var r=e.state.PostData;r.PageNumber=a,e.setState({PostData:r}),t.receiveComplaint(r)}},d=[S.default.createElement(m.default,{span:8,key:1},S.default.createElement(F,E({},n,{label:"订单编号"}),r("OrderNo",{initialValue:""})(S.default.createElement(y.default,{type:"text"}))))],c=[{title:"订单编号",width:"230px",filterDropdown:S.default.createElement("div",{className:"custom-filter-dropdown"},S.default.createElement(y.default,{placeholder:"请输入订单编号",value:this.state.PostData.OrderNo,onChange:function(t){e.setState({PostData:E({},e.state.PostData,{OrderNo:t.target.value})})}}),S.default.createElement(f.default,{type:"primary",onClick:function(){e.props.receiveComplaint(e.state.PostData),e.setState({reload:!0})}},"搜索")),render:function(t){return S.default.createElement("div",null,S.default.createElement(R.A,{authOpts:{hint:"查看订单详情"},auth:"serviceReceiveViewDetail",onClick:function(){return e.handleDetailClick(t)}},t.OrderNo))}},{title:"投诉问题",dataIndex:"Question"},{title:"投诉状态",dataIndex:"Status"},{title:"投诉时间",dataIndex:"CreateDate"},{title:"最新处理时间",render:function(e){return S.default.createElement("span",null,null!=e.AnswerDate?e.AnswerDate:"--")}},{title:"操作",width:"120px",render:function(e){return S.default.createElement("div",null,"已处理"===e.Status?S.default.createElement(R.Link,{authOpts:{hint:"查看"},auth:"serviceReceiveView",to:"/service/"+e.OrderNo+"/0/"+e.ComplaintId,className:"ServerIcon"},S.default.createElement(N.default,{glyph:T.iView})):S.default.createElement(R.Link,{authOpts:{hint:"处理"},auth:"serviceReceiveProcess",to:"/service/"+e.OrderNo+"/2/"+e.ComplaintId,className:"ServerIcon"},S.default.createElement(N.default,{glyph:T.chuli})))}}];return S.default.createElement("div",{className:"serverList"},S.default.createElement(i.default,{spinning:this.props.isfetching},S.default.createElement(_.default,{defaultActiveKey:"1",onChange:function(t){var a=e.state.PostData;a.Status=t,a.PageIndex=1,e.props.receiveComplaint(a),e.setState({PostData:a,reload:!0})}},S.default.createElement(q,{tab:"未处理",key:"1"}),S.default.createElement(q,{tab:"处理中",key:"2"}),S.default.createElement(q,{tab:"已处理",key:"3"})),S.default.createElement(s.default,{gutter:40},d,S.default.createElement(f.default,{type:"primary",htmlType:"submit",onClick:function(){e.handleSubmit()}},"搜索"),S.default.createElement(f.default,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"重置")),S.default.createElement(o.default,{columns:c,dataSource:a||[],rowKey:"OrderNo",pagination:u})),this.state.isShowDetail&&S.default.createElement(k.default,{orderId:this.state.currentOrder.OrderNo,close:this.handleHideDetailClick}))}}]),ServiceReceive}(S.default.Component),r.propTypes={isfetching:P.default.bool,receiveComplaint:P.default.func.isRequired,form:P.default.shape({validateFields:P.default.func.isRequired,getFieldDecorator:P.default.func.isRequired,resetFields:P.default.func.isRequired}).isRequired,data:P.default.object},r.defaultProps={isfetching:!1,data:void 0},n);t.default=A()(j),e.exports=t.default},1698:function(e,t){}});